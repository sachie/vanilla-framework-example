(this["webpackJsonpvanilla-framework-example"]=this["webpackJsonpvanilla-framework-example"]||[]).push([[0],{164:function(e,t,n){},165:function(e,t,n){"use strict";n.r(t);var r=n(25),a=n.n(r),i=n(42),o=n(26),c=n(3),s=n(15),l=n(0),d=n(16),u={title:"Vanilla Framework Example",by:"By"},h={loadingPosts:"Loading posts...",errorFetchingPosts:"An unexpected error occurred while fetching posts, please try again later.",error:"Error",sachie:"Sachie"},p={on:"on"},j=n(20),m=n.n(j),f=n(6),b=function(e){var t=e.topic,n=e.title,r=e.postLink,a=e.imageSrc,i=e.authorName,o=e.authorLink,c=e.date,s=e.category,l=new Date(c).toLocaleDateString("en-UK",{year:"numeric",month:"long",day:"numeric"});return Object(f.jsxs)(d.Card,{title:t,className:m.a.card,children:[Object(f.jsx)("hr",{}),Object(f.jsxs)("div",{className:m.a.content,children:[Object(f.jsxs)(d.Link,{href:r,children:[Object(f.jsx)("img",{src:a,alt:"Post thumbnail"}),Object(f.jsx)("h4",{className:m.a.linkText,children:n})]}),Object(f.jsxs)("div",{className:m.a.info,children:[u.by," ",Object(f.jsx)(d.Link,{href:o,children:i})," ",p.on," ",l]})]}),Object(f.jsx)("hr",{}),Object(f.jsx)("div",{className:m.a.footer,children:s})]})},x=Object(l.memo)(b),O=n(19),_=n.n(O),g=n(43),k={home:"/"},v={posts:"https://people.canonical.com/~anthonydillon/wp-json/wp/v2/posts.json"},y={githubProfile:"https://github.com/sachie"},w=function(){var e=Object(g.a)(_.a.mark((function e(){var t;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(v.posts);case 2:if((t=e.sent).ok){e.next=5;break}throw new Error("Network error");case 5:return e.abrupt("return",t.json());case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=n(65),L=n.n(N),C=n(32),P=n.n(C),D=function(e,t,n){return e?Object(f.jsx)(d.Spinner,{text:h.loadingPosts,className:P.a.spinner}):n?Object(f.jsx)(d.Notification,{severity:"negative",title:h.error,children:h.errorFetchingPosts}):t.map((function(e){var t=function(e){var t,n=e._embedded,r=n.author?n.author.find((function(t){return t.id===e.author})):{name:"anonymous",link:""},a=Object(s.a)(n["wp:term"],3),i=a[0],o=a[1],c=a[2],l=e.categories.length&&e.categories[0],d=l&&i.find((function(e){return e.id===l})),u=e.topic.length&&e.topic[0];if(u)t=u&&c.find((function(e){return e.id===u}));else{var h=e.tags.length&&e.tags[0];t=h&&o.find((function(e){return e.id===h}))}return{authorDetails:r,category:d?d.name:void 0,topic:t?t.name:void 0}}(e),n=t.authorDetails,r=t.category,a=t.topic;return Object(f.jsx)(x,{topic:a,title:e.title.rendered,postLink:e.link,imageSrc:e.featured_media,authorName:n.name,authorLink:n.link,date:e.date,category:r},e.id)}))},S=function(){var e=Object(o.useQuery)("posts",w,{refetchOnWindowFocus:!1}),t=e.isLoading,n=e.data,r=e.error;return Object(f.jsxs)("div",{className:L.a.container,children:[Object(f.jsx)("h1",{children:u.title}),Object(f.jsxs)("h3",{className:P.a.subtitle,children:[u.by," ",Object(f.jsx)(d.Link,{href:y.githubProfile,children:h.sachie})]}),Object(f.jsx)("div",{className:P.a.main,children:D(t,n,r)})]})},E=Object(l.memo)(S),F=new o.QueryClient,z=function(){return Object(f.jsx)(o.QueryClientProvider,{client:F,children:Object(f.jsx)(c.c,{children:Object(f.jsx)(c.a,{path:k.home,element:Object(f.jsx)(E,{})})})})};n(164);a.a.render(Object(f.jsx)(i.a,{basename:"/vanilla-framework-example",children:Object(f.jsx)(z,{})}),document.querySelector("#root"))},20:function(e,t,n){e.exports={"primary-color":"#886281","secondary-color":"#a87ca0","text-color-muted":"#6e6e6e","text-color-link":"#1f95cd","text-color-link-active":"#1678a5",card:"postCard_card__1c_pw",content:"postCard_content__oRDpz",linkText:"postCard_linkText__2ERE9",info:"postCard_info__2D3Jd",footer:"postCard_footer__1s1Zr"}},32:function(e,t,n){e.exports={main:"home_main__37xpR",subtitle:"home_subtitle__3zcNg",spinner:"home_spinner__3azy_"}},65:function(e,t,n){e.exports={container:"pages_container__2OItd"}}},[[165,1,2]]]);
//# sourceMappingURL=main.f53dcde9.chunk.js.map